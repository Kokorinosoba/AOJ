#include <bits/stdc++.h>
using namespace std;

int main() {
    int n; cin >> n;
    vector<string> s(5);
    for (int i = 0; i < 5; i++) {
        cin >> s.at(i);
    }

    string ans = "";
    for (int i = 0; i < s.at(0).size() - 1; i += 4) {
        if (s[0][i + 1] == '#' && s[0][i + 2] == '#' && s[0][i + 3] == '#' &&
            s[1][i + 1] == '#' && s[1][i + 2] == '.' && s[1][i + 3] == '#' &&
            s[2][i + 1] == '#' && s[2][i + 2] == '.' && s[2][i + 3] == '#' &&
            s[3][i + 1] == '#' && s[3][i + 2] == '.' && s[3][i + 3] == '#' &&
            s[4][i + 1] == '#' && s[4][i + 2] == '#' && s[4][i + 3] == '#') {
            ans.append("0");
        } else if (s[0][i + 1] == '.' && s[0][i + 2] == '#' && s[0][i + 3] == '.' &&
                   s[1][i + 1] == '#' && s[1][i + 2] == '#' && s[1][i + 3] == '.' &&
                   s[2][i + 1] == '.' && s[2][i + 2] == '#' && s[2][i + 3] == '.' &&
                   s[3][i + 1] == '.' && s[3][i + 2] == '#' && s[3][i + 3] == '.' &&
                   s[4][i + 1] == '#' && s[4][i + 2] == '#' && s[4][i + 3] == '#') {
            ans.append("1");
        } else if (s[0][i + 1] == '#' && s[0][i + 2] == '#' && s[0][i + 3] == '#' &&
                   s[1][i + 1] == '.' && s[1][i + 2] == '.' && s[1][i + 3] == '#' &&
                   s[2][i + 1] == '#' && s[2][i + 2] == '#' && s[2][i + 3] == '#' &&
                   s[3][i + 1] == '#' && s[3][i + 2] == '.' && s[3][i + 3] == '.' &&
                   s[4][i + 1] == '#' && s[4][i + 2] == '#' && s[4][i + 3] == '#') {
            ans.append("2");
        } else if (s[0][i + 1] == '#' && s[0][i + 2] == '#' && s[0][i + 3] == '#' &&
                   s[1][i + 1] == '.' && s[1][i + 2] == '.' && s[1][i + 3] == '#' &&
                   s[2][i + 1] == '#' && s[2][i + 2] == '#' && s[2][i + 3] == '#' &&
                   s[3][i + 1] == '.' && s[3][i + 2] == '.' && s[3][i + 3] == '#' &&
                   s[4][i + 1] == '#' && s[4][i + 2] == '#' && s[4][i + 3] == '#') {
            ans.append("3");
        } else if (s[0][i + 1] == '#' && s[0][i + 2] == '.' && s[0][i + 3] == '#' &&
                   s[1][i + 1] == '#' && s[1][i + 2] == '.' && s[1][i + 3] == '#' &&
                   s[2][i + 1] == '#' && s[2][i + 2] == '#' && s[2][i + 3] == '#' &&
                   s[3][i + 1] == '.' && s[3][i + 2] == '.' && s[3][i + 3] == '#' &&
                   s[4][i + 1] == '.' && s[4][i + 2] == '.' && s[4][i + 3] == '#') {
            ans.append("4");
        } else if (s[0][i + 1] == '#' && s[0][i + 2] == '#' && s[0][i + 3] == '#' &&
                   s[1][i + 1] == '#' && s[1][i + 2] == '.' && s[1][i + 3] == '.' &&
                   s[2][i + 1] == '#' && s[2][i + 2] == '#' && s[2][i + 3] == '#' &&
                   s[3][i + 1] == '.' && s[3][i + 2] == '.' && s[3][i + 3] == '#' &&
                   s[4][i + 1] == '#' && s[4][i + 2] == '#' && s[4][i + 3] == '#') {
            ans.append("5");
        } else if (s[0][i + 1] == '#' && s[0][i + 2] == '#' && s[0][i + 3] == '#' &&
                   s[1][i + 1] == '#' && s[1][i + 2] == '.' && s[1][i + 3] == '.' &&
                   s[2][i + 1] == '#' && s[2][i + 2] == '#' && s[2][i + 3] == '#' &&
                   s[3][i + 1] == '#' && s[3][i + 2] == '.' && s[3][i + 3] == '#' &&
                   s[4][i + 1] == '#' && s[4][i + 2] == '#' && s[4][i + 3] == '#') {
            ans.append("6");
        } else if (s[0][i + 1] == '#' && s[0][i + 2] == '#' && s[0][i + 3] == '#' &&
                   s[1][i + 1] == '.' && s[1][i + 2] == '.' && s[1][i + 3] == '#' &&
                   s[2][i + 1] == '.' && s[2][i + 2] == '.' && s[2][i + 3] == '#' &&
                   s[3][i + 1] == '.' && s[3][i + 2] == '.' && s[3][i + 3] == '#' &&
                   s[4][i + 1] == '.' && s[4][i + 2] == '.' && s[4][i + 3] == '#') {
            ans.append("7");
        } else if (s[0][i + 1] == '#' && s[0][i + 2] == '#' && s[0][i + 3] == '#' &&
                   s[1][i + 1] == '#' && s[1][i + 2] == '.' && s[1][i + 3] == '#' &&
                   s[2][i + 1] == '#' && s[2][i + 2] == '#' && s[2][i + 3] == '#' &&
                   s[3][i + 1] == '#' && s[3][i + 2] == '.' && s[3][i + 3] == '#' &&
                   s[4][i + 1] == '#' && s[4][i + 2] == '#' && s[4][i + 3] == '#') {
            ans.append("8");
        } else {
            ans.append("9");
        }
    }
    cout << ans << endl;
}